{% extends "base.html" %}

{% block title %}添加员工{% endblock %}

{% block content %}
<h3>添加新员工</h3>
<form action="{{ url_for('add_employee') }}" method="post" class="col s12">
    <div class="row">
        <div class="input-field col s6">
            <input id="name" name="name" type="text" required>
            <label for="name">姓名</label>
        </div>
        <div class="input-field col s6">
            <input id="email" name="email" type="email" required>
            <label for="email">电子邮件</label>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s6">
            <input id="username" name="username" type="text" required>
            <label for="username">用户名</label>
        </div>
        <div class="input-field col s6">
            <input id="password" name="password" type="password" required>
            <label for="password">密码</label>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s6">
            <input id="recruited_at" name="recruited_at" type="date" required>
            <label for="recruited_at">入职日期</label>
        </div>
        <div class="input-field col s6">
            <input id="position" name="position" type="text" required>
            <label for="position">职位</label>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s6">
            <input id="salary" name="salary" type="number" step="0.01" required>
            <label for="salary">薪资</label>
        </div>
        <div class="input-field col s6">
            <select id="department" name="department" required>
                <option value="" disabled selected>选择部门</option>
                {% for department in departments %}
                <option value="{{ department.name }}">{{ department.name }}</option>
                {% endfor %}
            </select>
            <label for="department">部门</label>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s6">
            <select id="is_admin" name="is_admin" required>
                <option value="False" selected>否</option>
                <option value="True">是</option>
            </select>
            <label for="privilege">管理员权限</label>
        </div>
    </div>
    <button type="submit" class="btn waves-effect waves-light">提交</button>
</form>

<script>
    // 初始化Materialize下拉框
    document.addEventListener('DOMContentLoaded', function () {
        var elems = document.querySelectorAll('select');
        var instances = M.FormSelect.init(elems);
    });
</script>
{% endblock %}
